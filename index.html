<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TG Agro Pro ‚Äî Gest√£o Pecu√°ria</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MOBILE TOP BAR
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="mobile-topbar">
  <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleMobileMenu()">
    <span></span><span></span><span></span>
  </button>
  <div class="mobile-logo">
    <div class="logo-mark">üêÇ</div>
    <span>TG AGRO PRO</span>
  </div>
  <div class="mobile-spacer"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     SIDEBAR
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<aside class="sidebar" id="sidebar">

  <!-- Brand -->
  <div class="sidebar-brand">
    <div class="brand-logo">
      <span class="brand-icon">üêÇ</span>
      <div class="brand-text">
        <div class="brand-name">TG Agro Pro</div>
        <div class="brand-tagline">Gest√£o Pecu√°ria</div>
      </div>
    </div>
    <button class="sidebar-close-mobile" onclick="closeMobileMenu()">‚úï</button>
  </div>

  <!-- User chip -->
  <div class="sidebar-user">
    <div class="user-avatar">TG</div>
    <div class="user-info">
      <div class="user-name">Minha Fazenda</div>
      <div class="user-plan">Pro ¬∑ Ativo</div>
    </div>
    <div class="user-dot"></div>
  </div>

  <!-- Nav -->
  <nav class="nav-menu">
    <div class="nav-section-label">Principal</div>

    <a class="nav-link active" data-page="dashboard" onclick="navigate('dashboard')">
      <span class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
      </span>
      <span class="nav-text">Dashboard</span>
      <span class="nav-badge" id="nbDash"></span>
    </a>

    <div class="nav-section-label" style="margin-top:8px">Rebanho</div>

    <a class="nav-link" data-page="lotes" onclick="navigate('lotes')">
      <span class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      </span>
      <span class="nav-text">Lotes</span>
    </a>

    <a class="nav-link" data-page="animais" onclick="navigate('animais')">
      <span class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 3.6-7 8-7s8 3 8 7"/><circle cx="18" cy="9" r="2"/><circle cx="6" cy="9" r="2"/></svg>
      </span>
      <span class="nav-text">Animais</span>
    </a>

    <a class="nav-link" data-page="pesagens" onclick="navigate('pesagens')">
      <span class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
      </span>
      <span class="nav-text">Pesagens</span>
    </a>

    <div class="nav-section-label" style="margin-top:8px">Financeiro</div>

    <a class="nav-link" data-page="vendas" onclick="navigate('vendas')">
      <span class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/></svg>
      </span>
      <span class="nav-text">Vendas</span>
    </a>

    <a class="nav-link" data-page="custos" onclick="navigate('custos')">
      <span class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
      </span>
      <span class="nav-text">Custos</span>
    </a>

    <a class="nav-link" data-page="financeiro" onclick="navigate('financeiro')">
      <span class="nav-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
      </span>
      <span class="nav-text">Financeiro</span>
    </a>
  </nav>

  <!-- Sidebar footer -->
  <div class="sidebar-footer">
    <div class="sidebar-divider"></div>
    <div class="footer-info">
      <span class="footer-version">v2.0 Pro</span>
      <span class="footer-dot">¬∑</span>
      <span class="footer-copy">TG Agro</span>
    </div>
  </div>
</aside>

<!-- Mobile overlay -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="closeMobileMenu()"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MAIN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<main class="main-content" id="main">

  <!-- Page Header -->
  <div class="page-header" id="pageHeader">
    <div class="page-header-left">
      <h1 class="page-heading" id="pageTitle">Dashboard</h1>
      <p class="page-subtitle" id="pageSubtitle">Vis√£o geral do seu rebanho</p>
    </div>
    <div class="page-header-right">
      <div class="header-date" id="topbarDate"></div>
      <button class="btn-header-action" id="headerActionBtn"></button>
    </div>
  </div>

  <!-- Pages -->
  <div class="pages-container">

    <!-- ‚ïê‚ïê DASHBOARD ‚ïê‚ïê -->
    <section id="page-dashboard" class="page active">

      <div class="cards-grid">
        <div class="kpi-card kpi-green">
          <div class="kpi-top">
            <div class="kpi-label">Total de Animais</div>
            <div class="kpi-icon-wrap green"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 3.6-7 8-7s8 3 8 7"/></svg></div>
          </div>
          <div class="kpi-value" id="dbAnimais">‚Äî</div>
          <div class="kpi-footer"><span class="kpi-tag green">Cadastrados</span></div>
        </div>

        <div class="kpi-card kpi-amber">
          <div class="kpi-top">
            <div class="kpi-label">Lotes Ativos</div>
            <div class="kpi-icon-wrap amber"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></div>
          </div>
          <div class="kpi-value" id="dbLotes">‚Äî</div>
          <div class="kpi-footer"><span class="kpi-tag amber">Em opera√ß√£o</span></div>
        </div>

        <div class="kpi-card kpi-blue">
          <div class="kpi-top">
            <div class="kpi-label">Receita Total</div>
            <div class="kpi-icon-wrap blue"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/></svg></div>
          </div>
          <div class="kpi-value" id="dbReceita">‚Äî</div>
          <div class="kpi-footer"><span class="kpi-tag blue">Em vendas</span></div>
        </div>

        <div class="kpi-card kpi-red">
          <div class="kpi-top">
            <div class="kpi-label">Custos Totais</div>
            <div class="kpi-icon-wrap red"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></div>
          </div>
          <div class="kpi-value" id="dbCustos">‚Äî</div>
          <div class="kpi-footer"><span class="kpi-tag red">Despesas</span></div>
        </div>

        <div class="kpi-card kpi-purple">
          <div class="kpi-top">
            <div class="kpi-label">Lucro L√≠quido</div>
            <div class="kpi-icon-wrap purple"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg></div>
          </div>
          <div class="kpi-value" id="dbLucro">‚Äî</div>
          <div class="kpi-footer"><span class="kpi-tag purple">Receita - Custos</span></div>
        </div>

        <div class="kpi-card kpi-teal">
          <div class="kpi-top">
            <div class="kpi-label">Peso do Rebanho</div>
            <div class="kpi-icon-wrap teal"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg></div>
          </div>
          <div class="kpi-value" id="dbPeso">‚Äî</div>
          <div class="kpi-footer"><span class="kpi-tag teal">Peso total</span></div>
        </div>
      </div>

      <div class="section-header">
        <h2 class="section-title">Resumo por Lote</h2>
        <span class="section-line"></span>
      </div>
      <div class="data-table-wrap">
        <table class="data-table">
          <thead>
            <tr>
              <th>Lote</th><th>Ra√ßa</th><th>Animais</th><th>Peso M√©dio</th><th>@ M√©dias</th><th>Status</th>
            </tr>
          </thead>
          <tbody id="dbLotesTbody">
            <tr><td colspan="6" class="td-empty">Nenhum lote cadastrado.</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ‚ïê‚ïê LOTES ‚ïê‚ïê -->
    <section id="page-lotes" class="page">
      <div class="toolbar">
        <button class="btn btn-primary" onclick="abrirModalLote()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          Novo Lote
        </button>
      </div>
      <div class="data-table-wrap">
        <table class="data-table">
          <thead>
            <tr><th>Nome</th><th>Ra√ßa</th><th>Finalidade</th><th>√Årea (ha)</th><th>Entrada</th><th>Status</th><th>A√ß√µes</th></tr>
          </thead>
          <tbody id="lotesTbody">
            <tr><td colspan="7" class="td-empty">Nenhum lote cadastrado.</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ‚ïê‚ïê ANIMAIS ‚ïê‚ïê -->
    <section id="page-animais" class="page">
      <div class="toolbar">
        <button class="btn btn-primary" onclick="abrirModalAnimal()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          Novo Animal
        </button>
        <select class="sel-filtro" id="filtroLoteAnimal" onchange="renderAnimais()">
          <option value="">Todos os lotes</option>
        </select>
      </div>
      <div class="data-table-wrap">
        <table class="data-table">
          <thead>
            <tr><th>Brinco</th><th>Lote</th><th>Ra√ßa</th><th>Sexo</th><th>Peso Entrada</th><th>@ Entrada</th><th>Valor Compra</th><th>A√ß√µes</th></tr>
          </thead>
          <tbody id="animaisTbody">
            <tr><td colspan="8" class="td-empty">Nenhum animal cadastrado.</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ‚ïê‚ïê PESAGENS ‚ïê‚ïê -->
    <section id="page-pesagens" class="page">
      <div class="toolbar">
        <button class="btn btn-primary" onclick="abrirModalPesagem()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          Nova Pesagem
        </button>
        <select class="sel-filtro" id="filtroLotePes" onchange="renderPesagens()">
          <option value="">Todos os lotes</option>
        </select>
      </div>
      <div class="data-table-wrap">
        <table class="data-table">
          <thead>
            <tr><th>Brinco</th><th>Lote</th><th>Data</th><th>Peso (kg)</th><th>Arrobas (@)</th><th>GMD</th><th>A√ß√µes</th></tr>
          </thead>
          <tbody id="pesagensTbody">
            <tr><td colspan="7" class="td-empty">Nenhuma pesagem registrada.</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ‚ïê‚ïê VENDAS ‚ïê‚ïê -->
    <section id="page-vendas" class="page">
      <div class="toolbar">
        <button class="btn btn-primary" onclick="abrirModalVenda()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          Nova Venda
        </button>
      </div>
      <div class="data-table-wrap">
        <table class="data-table">
          <thead>
            <tr><th>Data</th><th>Brinco</th><th>Lote</th><th>Peso (kg)</th><th>Arrobas</th><th>R$/@</th><th>Total</th><th>Comprador</th><th>A√ß√µes</th></tr>
          </thead>
          <tbody id="vendasTbody">
            <tr><td colspan="9" class="td-empty">Nenhuma venda registrada.</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ‚ïê‚ïê CUSTOS ‚ïê‚ïê -->
    <section id="page-custos" class="page">
      <div class="toolbar">
        <button class="btn btn-primary" onclick="abrirModalCusto()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          Novo Custo
        </button>
        <select class="sel-filtro" id="filtroCat" onchange="renderCustos()">
          <option value="">Todas categorias</option>
          <option value="alimentacao">üåæ Alimenta√ß√£o</option>
          <option value="saude">üíâ Sa√∫de/Veterin√°rio</option>
          <option value="mao_de_obra">üë∑ M√£o de Obra</option>
          <option value="infraestrutura">üèóÔ∏è Infraestrutura</option>
          <option value="transporte">üöõ Transporte</option>
          <option value="outros">üì¶ Outros</option>
        </select>
      </div>
      <div class="data-table-wrap">
        <table class="data-table">
          <thead>
            <tr><th>Data</th><th>Descri√ß√£o</th><th>Categoria</th><th>Lote</th><th>Valor (R$)</th><th>A√ß√µes</th></tr>
          </thead>
          <tbody id="custosTbody">
            <tr><td colspan="6" class="td-empty">Nenhum custo registrado.</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ‚ïê‚ïê FINANCEIRO ‚ïê‚ïê -->
    <section id="page-financeiro" class="page">
      <div class="fin-kpi-row">
        <div class="fin-kpi-card">
          <div class="fin-kpi-label">Total Receitas</div>
          <div class="fin-kpi-value green" id="finRec">R$ 0,00</div>
          <div class="fin-kpi-icon green">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/></svg>
          </div>
        </div>
        <div class="fin-kpi-card">
          <div class="fin-kpi-label">Total Custos</div>
          <div class="fin-kpi-value red" id="finCst">R$ 0,00</div>
          <div class="fin-kpi-icon red">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/></svg>
          </div>
        </div>
        <div class="fin-kpi-card">
          <div class="fin-kpi-label">Lucro L√≠quido</div>
          <div class="fin-kpi-value purple" id="finLuc">R$ 0,00</div>
          <div class="fin-kpi-icon purple">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/></svg>
          </div>
        </div>
        <div class="fin-kpi-card">
          <div class="fin-kpi-label">Margem</div>
          <div class="fin-kpi-value blue" id="finMrg">0%</div>
          <div class="fin-kpi-icon blue">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          </div>
        </div>
      </div>

      <div class="section-header">
        <h2 class="section-title">Resultado por Lote</h2>
        <span class="section-line"></span>
      </div>
      <div class="data-table-wrap">
        <table class="data-table">
          <thead>
            <tr><th>Lote</th><th>Receitas</th><th>Custos</th><th>Lucro</th><th>Margem</th></tr>
          </thead>
          <tbody id="finLotesTbody">
            <tr><td colspan="5" class="td-empty">Carregando...</td></tr>
          </tbody>
        </table>
      </div>

      <div class="section-header" style="margin-top:32px">
        <h2 class="section-title">Custos por Categoria</h2>
        <span class="section-line"></span>
      </div>
      <div class="data-table-wrap">
        <table class="data-table">
          <thead>
            <tr><th>Categoria</th><th>Valor (R$)</th><th>Participa√ß√£o</th></tr>
          </thead>
          <tbody id="finCatTbody">
            <tr><td colspan="3" class="td-empty">Sem custos registrados.</td></tr>
          </tbody>
        </table>
      </div>
    </section>

  </div><!-- /pages-container -->
</main>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MODALS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- Modal Lote -->
<div class="modal-backdrop" id="mLote">
  <div class="modal-box">
    <div class="modal-hdr">
      <div class="modal-hdr-left">
        <div class="modal-icon green">üè†</div>
        <h3 class="modal-title" id="mLoteTitle">Novo Lote</h3>
      </div>
      <button class="modal-x" onclick="fechar('mLote')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="loteId"/>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Nome do Lote <span class="required">*</span></label>
          <input class="field-input" type="text" id="loteNome" placeholder="Ex: Lote A ‚Äî Nelore 2024"/>
        </div>
        <div class="form-field">
          <label class="field-label">Ra√ßa</label>
          <input class="field-input" type="text" id="loteRaca" placeholder="Nelore, Angus, Brahman..."/>
        </div>
      </div>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Finalidade</label>
          <select class="field-select" id="loteFin">
            <option value="corte">ü•© Corte</option>
            <option value="leite">ü•õ Leite</option>
            <option value="recria">üå± Recria</option>
            <option value="cria">üêÑ Cria</option>
          </select>
        </div>
        <div class="form-field">
          <label class="field-label">√Årea (hectares)</label>
          <input class="field-input" type="number" id="loteArea" step="0.01" placeholder="0.00"/>
        </div>
      </div>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Data de Entrada</label>
          <input class="field-input" type="date" id="loteData"/>
        </div>
        <div class="form-field">
          <label class="field-label">Status</label>
          <select class="field-select" id="loteStatus">
            <option value="ativo">‚úÖ Ativo</option>
            <option value="encerrado">üî¥ Encerrado</option>
          </select>
        </div>
      </div>
      <div class="form-field">
        <label class="field-label">Observa√ß√µes</label>
        <textarea class="field-textarea" id="loteObs" placeholder="Informa√ß√µes adicionais..."></textarea>
      </div>
    </div>
    <div class="modal-ftr">
      <button class="btn btn-ghost" onclick="fechar('mLote')">Cancelar</button>
      <button class="btn btn-primary" onclick="salvarLote()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
        Salvar Lote
      </button>
    </div>
  </div>
</div>

<!-- Modal Animal -->
<div class="modal-backdrop" id="mAnimal">
  <div class="modal-box">
    <div class="modal-hdr">
      <div class="modal-hdr-left">
        <div class="modal-icon teal">üêÑ</div>
        <h3 class="modal-title" id="mAnimalTitle">Novo Animal</h3>
      </div>
      <button class="modal-x" onclick="fechar('mAnimal')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="animalId"/>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">N¬∫ Brinco <span class="required">*</span></label>
          <input class="field-input" type="text" id="aBrinco" placeholder="001"/>
        </div>
        <div class="form-field">
          <label class="field-label">Lote <span class="required">*</span></label>
          <select class="field-select" id="aLote"></select>
        </div>
      </div>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Ra√ßa</label>
          <input class="field-input" type="text" id="aRaca" placeholder="Nelore, Angus..."/>
        </div>
        <div class="form-field">
          <label class="field-label">Sexo</label>
          <select class="field-select" id="aSexo">
            <option value="macho">‚ôÇ Macho</option>
            <option value="femea">‚ôÄ F√™mea</option>
          </select>
        </div>
      </div>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Peso Entrada (kg) <span class="required">*</span></label>
          <input class="field-input" type="number" id="aPeso" step="0.1" placeholder="0" oninput="calcArrEntrada()"/>
        </div>
        <div class="form-field">
          <label class="field-label">Arrobas Entrada</label>
          <input class="field-input readonly" type="text" id="aArroba" readonly placeholder="Calculado auto"/>
        </div>
      </div>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Data de Entrada</label>
          <input class="field-input" type="date" id="aData"/>
        </div>
        <div class="form-field">
          <label class="field-label">Valor de Compra (R$)</label>
          <input class="field-input" type="number" id="aValor" step="0.01" placeholder="0,00"/>
        </div>
      </div>
      <div class="form-field">
        <label class="field-label">Observa√ß√µes</label>
        <textarea class="field-textarea" id="aObs" placeholder="Informa√ß√µes adicionais..."></textarea>
      </div>
    </div>
    <div class="modal-ftr">
      <button class="btn btn-ghost" onclick="fechar('mAnimal')">Cancelar</button>
      <button class="btn btn-primary" onclick="salvarAnimal()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
        Salvar Animal
      </button>
    </div>
  </div>
</div>

<!-- Modal Pesagem -->
<div class="modal-backdrop" id="mPesagem">
  <div class="modal-box modal-sm">
    <div class="modal-hdr">
      <div class="modal-hdr-left">
        <div class="modal-icon blue">‚öñÔ∏è</div>
        <h3 class="modal-title">Nova Pesagem</h3>
      </div>
      <button class="modal-x" onclick="fechar('mPesagem')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="pesId"/>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Animal (Brinco) <span class="required">*</span></label>
          <select class="field-select" id="pAnimal"></select>
        </div>
        <div class="form-field">
          <label class="field-label">Data da Pesagem <span class="required">*</span></label>
          <input class="field-input" type="date" id="pData"/>
        </div>
      </div>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Peso (kg) <span class="required">*</span></label>
          <input class="field-input" type="number" id="pPeso" step="0.1" placeholder="0" oninput="calcArrPes()"/>
        </div>
        <div class="form-field">
          <label class="field-label">Arrobas</label>
          <input class="field-input readonly" type="text" id="pArroba" readonly placeholder="Calculado auto"/>
        </div>
      </div>
      <div class="form-field">
        <label class="field-label">Observa√ß√µes</label>
        <textarea class="field-textarea" id="pObs" placeholder="Informa√ß√µes adicionais..."></textarea>
      </div>
    </div>
    <div class="modal-ftr">
      <button class="btn btn-ghost" onclick="fechar('mPesagem')">Cancelar</button>
      <button class="btn btn-primary" onclick="salvarPesagem()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
        Registrar Pesagem
      </button>
    </div>
  </div>
</div>

<!-- Modal Venda -->
<div class="modal-backdrop" id="mVenda">
  <div class="modal-box">
    <div class="modal-hdr">
      <div class="modal-hdr-left">
        <div class="modal-icon green">üí∞</div>
        <h3 class="modal-title">Nova Venda</h3>
      </div>
      <button class="modal-x" onclick="fechar('mVenda')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="vendaId"/>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Animal (Brinco) <span class="required">*</span></label>
          <select class="field-select" id="vAnimal"></select>
        </div>
        <div class="form-field">
          <label class="field-label">Data da Venda <span class="required">*</span></label>
          <input class="field-input" type="date" id="vData"/>
        </div>
      </div>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Peso de Venda (kg) <span class="required">*</span></label>
          <input class="field-input" type="number" id="vPeso" step="0.1" placeholder="0" oninput="calcVenda()"/>
        </div>
        <div class="form-field">
          <label class="field-label">Arrobas</label>
          <input class="field-input readonly" type="text" id="vArroba" readonly placeholder="Calculado auto"/>
        </div>
      </div>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Pre√ßo por Arroba (R$/@) <span class="required">*</span></label>
          <input class="field-input" type="number" id="vPreco" step="0.01" placeholder="0,00" oninput="calcVenda()"/>
        </div>
        <div class="form-field">
          <label class="field-label">Valor Total (R$)</label>
          <input class="field-input readonly highlight" type="text" id="vTotal" readonly placeholder="Calculado auto"/>
        </div>
      </div>
      <div class="form-field">
        <label class="field-label">Comprador</label>
        <input class="field-input" type="text" id="vComprador" placeholder="Nome do comprador"/>
      </div>
      <div class="form-field">
        <label class="field-label">Observa√ß√µes</label>
        <textarea class="field-textarea" id="vObs" placeholder="Informa√ß√µes adicionais..."></textarea>
      </div>
    </div>
    <div class="modal-ftr">
      <button class="btn btn-ghost" onclick="fechar('mVenda')">Cancelar</button>
      <button class="btn btn-primary" onclick="salvarVenda()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
        Registrar Venda
      </button>
    </div>
  </div>
</div>

<!-- Modal Custo -->
<div class="modal-backdrop" id="mCusto">
  <div class="modal-box">
    <div class="modal-hdr">
      <div class="modal-hdr-left">
        <div class="modal-icon red">üìã</div>
        <h3 class="modal-title">Novo Custo</h3>
      </div>
      <button class="modal-x" onclick="fechar('mCusto')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="custoId"/>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Descri√ß√£o <span class="required">*</span></label>
          <input class="field-input" type="text" id="cDesc" placeholder="Ex: Vacina Aftosa"/>
        </div>
        <div class="form-field">
          <label class="field-label">Categoria <span class="required">*</span></label>
          <select class="field-select" id="cCat">
            <option value="alimentacao">üåæ Alimenta√ß√£o</option>
            <option value="saude">üíâ Sa√∫de/Vet</option>
            <option value="mao_de_obra">üë∑ M√£o de Obra</option>
            <option value="infraestrutura">üèóÔ∏è Infraestrutura</option>
            <option value="transporte">üöõ Transporte</option>
            <option value="outros">üì¶ Outros</option>
          </select>
        </div>
      </div>
      <div class="form-row-2">
        <div class="form-field">
          <label class="field-label">Lote (opcional)</label>
          <select class="field-select" id="cLote">
            <option value="">üìã Geral (todos os lotes)</option>
          </select>
        </div>
        <div class="form-field">
          <label class="field-label">Data <span class="required">*</span></label>
          <input class="field-input" type="date" id="cData"/>
        </div>
      </div>
      <div class="form-field">
        <label class="field-label">Valor (R$) <span class="required">*</span></label>
        <input class="field-input" type="number" id="cValor" step="0.01" placeholder="0,00"/>
      </div>
      <div class="form-field">
        <label class="field-label">Observa√ß√µes</label>
        <textarea class="field-textarea" id="cObs" placeholder="Informa√ß√µes adicionais..."></textarea>
      </div>
    </div>
    <div class="modal-ftr">
      <button class="btn btn-ghost" onclick="fechar('mCusto')">Cancelar</button>
      <button class="btn btn-primary" onclick="salvarCusto()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
        Registrar Custo
      </button>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ Toast ‚îÄ‚îÄ -->
<div class="toast-container" id="toast"></div>

<script src="app.js"></script>

<script>
// Mobile menu
function toggleMobileMenu(){
  document.getElementById('sidebar').classList.toggle('mobile-open');
  document.getElementById('sidebarOverlay').classList.toggle('active');
}
function closeMobileMenu(){
  document.getElementById('sidebar').classList.remove('mobile-open');
  document.getElementById('sidebarOverlay').classList.remove('active');
}

// Override navigate to update subtitle too
const _origNavigate = window.navigate;
const PAGE_SUBTITLES = {
  dashboard:'Vis√£o geral do seu rebanho',
  lotes:'Gerencie seus lotes de pastagem',
  animais:'Cadastro e controle do rebanho',
  pesagens:'Hist√≥rico de pesagens e GMD',
  vendas:'Registro de comercializa√ß√µes',
  custos:'Controle de despesas e gastos',
  financeiro:'An√°lise financeira completa'
};
window.navigate = function(pg){
  if(_origNavigate) _origNavigate(pg);
  const sub = document.getElementById('pageSubtitle');
  if(sub) sub.textContent = PAGE_SUBTITLES[pg]||'';
  closeMobileMenu();
};
</script>

</body>
</html>
